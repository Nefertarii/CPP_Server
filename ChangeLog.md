## 随便写写
2022-6-12  
HTML已经修改完成了，测试需要继续看一下json和之前写的逻辑才行   
进行的算比较顺利，但想写个通用json模块似乎难度有点大，先将就用一用测试    
现在只需要将一些小问题排除并修复一下就暂时告一段落   

2022-6-10  
编译这块导致的问题没有找到原因,但是修改后能正常使用了  
添加了账户的操作至主流程，但由于前端页面需要修改才好进行后续的同步调试，此项目会慢一点   
HTML完成后会加进项目来，方面使用/查看     

2022-6-09  
导致日志无颜色的原因是读取到的fontcolor中定义的数据是空的  
不清楚是什么问题导致的数据为空，感觉是编译的问题，但在vs中编译是没有问题的  

2022-6-08  
测试发现对账户信息判断有点问题，修复了这个小问题并让保存的信息可读性增加了  
Log模块的map没有初始化成功，还不清楚是什么原因导致的  
大部分功能已经完成了，待修改前端页面以适配新的服务器  

2022-6-07  
简单完成了账户的登陆和注册操作  
待其他方面测试后再整合至主流程中去  
makefile也稍稍修改了一下，使用新文件更方便，还发现能让git能一键push  

2022-6-06  
将类FileHandler进行了完善，对于读写操作有更好的支持  
之前对getline性能问题有点过于担心了，测试性能甚至比我想象的好  
添加了对类进行的使用帮助，之后也会将之前有的改名并使其可读性提高  

2022-6-04  
在着手添加/整合FileHandler类的读取写入操作   
如果使用getline一行行读再加上对比,速度肯定会有大问题   

2022-6-02  
修改了httpserver的处理逻辑至其他地方  
修改了makefile，将lib集中整合成为了一个文件方便使用  
暂时考虑只将登陆的功能简单制作一下，有空闲时间再添加别的

2022-5-30  
更新了README  
但一些实际内容还没更新  

2022-5-24  
稍微修改了一下整体的命名空间和细节  

2022-5-23  
将全部的文件整理并配合完全重做的makefile,测试已经可以正常工作了  
文件的命名空间也考虑修改以适应移动后的文件目录  
这两天折腾makefile和g++很折磨  

2022-5-21  
各文件的头文件和makefile的编写已经全部整理完成  
原.o文件一个个加,非常麻烦,得制作成.a的静态库方便使用  
makefile还有许多想法没能实现,有机会再添加  

2022-5-20  
弄了好久,测试的makefile能正确将.o文件输出到指定目录并检查是否需要更新了  
查阅了许多别人的问题,发现都很复杂而且没能解决问题  
最后在gun make官方的网站上查看并尝试才解决  
待完成各目录下单独的makefile后可能还需要解决总控makefile的问题  
还有一大堆文件的头文件位置没改  

2022-5-19  
大幅修改了文件的位置   
文件的依赖和makefile还未完全修改完成  
在改makefile的过程遇到了不少问题,还挺麻烦  

2022-5-18  
default_logger无法修改的问题在用类包裹后能正常使用了  
还计划有json和post的处理,和makefile的改善  

2022-5-16 
问题找到了,eventloopthread一直用的是未修改的thread,而其他文件多少修改过从而改变了头文件位置  
靠bug运行起来的程序,毫无作用的逻辑代码.jpg
之前能跑得动也是奇迹了  
不过这两天对gdb 和 valgrind的了解更多了,也算一种收获吧  

2022-5-15  
这两天找了不少资料,尝试修改Thread类不使用posix创建线程,在试用时没出什么问题,但却导致了整体无法运行  
logchange的问题可能已经找到了,但不确定,还需要测试

2022-5-12  
修改了不少小问题 马上可以着手修改整体文件的位置和命名  
log的change仍然没找到问题的所在,进行系统的测试仍没找到问题,也许是自制的线程导致静态变量修改有问题  

2022-5-09  
修改了日志库的处理方式 速度快了将近5倍  

2022-5-08  
完善了错误请求的处理流程 
还未添加对post的处理  
将文件的位置进行了移动,并将makefile进行了修改  

2022-5-06  
修改了一下解析错误的处理方式,出了点小问题   
接下来计划修改整体文件的位置和命名,很麻烦  

2022-5-05  
对GET的处理已经能够正常的使用了  
下一步将原先的POST处理逻辑和方法稍微移植一下  
再将makefile和文件的位置进行之前规划的修改,就算完成了,有需要的之后再考虑补齐    

2022-5-01  
能进行基础的处理,但对请求头的分析仍有问题  
还需要添加对post的处理  

2022-4-30  
基本完善了http的操作 还需要测试  
目前错误很多,测试也比较麻烦

2022-4-25  
服务器基础的收发功能已经完成了  
添加并修改了clock类的时间戳转字符串时间的相关的函数    

2022-4-20  
发现标准库在c++17已经引入了any,替换后,之前的问题都解决了    

2022-4-19  
目前有了新的想法,不知道可行性如何,现在有问题需要调试  

2022-4-18  
决定回调用到底,新建一个专门的类用于管理http的事件处理,在线程池完成后直接执行回调   
先完善http处理,一步步来  

2022-4-17  
忙其他的,项目闲置了几天  
今天把一些细微的问题修复了一下:tcpserver发送空消息,和一些日志的错误处理    
忘了之前是打算怎么做请求的分析处理及发送了,今天想了一下直接丢进线程池再等待处理完成很麻烦,而且并发的效果似乎不是太好    

2022-4-10  
(2022-4-09)更新了eventloopthreadpool 使得能在多线程使用   
修改后和整体的调试/测试花了不少时间   
httpserver的基础逻辑已经完成了,更新了httpserver的设计   
信息的处理在一个线程池处理,信息的发送接收处理在一个eventloop处理   
一开始想把连接的请求放在一个单独的eventloop中处理,连接成功的再转换到用于处理的线程池中,发现写不出来,设想是要转移tcpconnection,但是没什么头绪,先把基础的实现完成了,之后再改    

2022-4-08  
试了一天,线程池和事件循环只能单独用不能配合使用,还是得用muduo的Eventloopthreadpool  

2022-4-07  
今天把整体处理的框架整理分析了一下,对原muduo的tcpconnection和httpserver分析了一下,考虑实现使用不同的方式  

2022-4-06  
http的交互想写得好一点,看了不少其他库的实现,发现都很一般,于是在看nginx的处理方式,最初的1.0版本就有很多自定的类,看着比较累,然后看了看新版本的处理,简直是魔法   
准备先把httpserver的loop建立起来,一步步添加处理进去   
发现事件循环的多线程模式还未实现,明天优先处理大概流程   

2022-4-03  
目前线程池能配合muduo的thread成功操作了  
有些是条件没有正确设置导致了问题,调试下比较好找   
而之前的断言导致一些流程无法走到,导致问题比较难找  
昨天上头了,忘了template是无法分离编译的,而且调试找问题的能力也有些高估,还是要对语句逻辑进行仔细检查    
接下来准备对照nginx的11个阶段进行相应的http编写   

2022-4-02  
线程池折腾了一天,有些问题太难找到了,错误的行号都需要自己排查   
同时遇到了一个链接问题好久都没找到原因,只能将定义先放头文件中之后再处理  
目前编译/语法大问题是没有了,但线程池的运行有错误  
怀疑线程创建是有问题的,准备先用裸指针调试,unique目前不好看数据  

2022-4-01  
修改了一些日志输出  
将旧的线程池和一些数据结构拿出来配合muduo的Thread类重新制作了一个线程池   
目前的几个库比较混乱,等完成得差不多了会将Makefile重写,这些文件重新整理一下并用makefile分开管理制作成lib  

2022-3-31  
看了看nginx,对web的实现方式有了一定的计划  
看起来简单的实现Nginx的一些功能应该不是很难,但是复杂度比较高  

2022-3-30
日志库已经全部完成,将之前Net库的cout输出全部用Log进行了替换  
同时将格式统一了一下,文件有点多 修改输出花了不少时间   

2022-3-29  
今天把日志整体弄完了,但是感觉会有点问题  

2022-3-27   
整体的虚类派生有问题,修改了纯虚类sink,以方便在使用派生类时的函数操作   
FileHandler,Sink,Logger都进行大幅修改   
新添加了logger作为中间层   
今天踩的坑算对虚函数和继承有了更多理解   

2022-3-26  
完成并测试了filesink,发现了许多问题,花了不少时间  
明天将logging整合 并配置测试宏应该就能使用了  

2022-3-25  
Log的基础功能目前已经完成并测试完成了,只需根据需要最后再补充tcpsink和线程池操作   
想修改makefile,弄了大半天发现效果不好也不是很着急,缓一缓  
现在剩下最重要的只剩了HTTP协议的一些相关操作  

2022-3-23  
补充了formatter,同时参照spdlog的输出格式,大幅修改了logconfig和logmsg使得整体调用更合理  

2022-3-22  
完成了Log的大部分操作,剩下的sink和logging只需整合一下操作即可  
新添加了异常处理  
对flush操作不是太清楚,目前了解到的是将缓存区中的数据写入实际文件中  

2022-3-21  
深入探究了spdlog,一开始对sink了解不是很清楚  
目前整体构造已经完成了,为了方便使用,logger决定做成.h文件直接include即可使用  

2022-3-19  
今天只写了一点点,整理了一下思路,log库的开发要考虑的东西不少  

2022-3-18  
今天阅读了一下folly库的log和spdlog库  
决定按这两个库的日志进行自己的日志库开发,更详细的计划仍在构思    
同时修改了一下README  

2022-3-17  
将tcpserver和tcpclient都完善了,发现是buffer的问题,修改了buffer类  
同时修改和增加了Clock的to_string格式,目前的网络库大致模式已经完成  
剩下有Log Http协议 Http自检(新计划)  
整体的测试在Log的帮助下能更快,因此最后再做  

2022-3-15  
tcpclient目前还有问题(分析接收信息的时间,长度均不对)  
tcpserver(注册的回调函数均没有被调用,分析接收的信息事件,长度也有问题)  
找到问题才好解决,再次体验到了log的重要性,定位问题速度快了太多    

2022-3-14  
tcpclient目前的问题已经解决了,但还未进行全部覆盖的测试,tcpserver的问题还未进行排查  

2022-3-13  
tcpserver和tcpclient都有问题,目前还在调试  

2022-3-11  
今天先让程序跑了起来,调试问题弄了一会,很麻烦,需要在vs上进行操作了  

2022-3-10  
补充了tcpserver 并添加了tcpclient和connector类 明天开始对这两个类进行测试  
这两天量有点大 测试的时候再好好理解一下  
bind unique_ptr简单的用了get获取原始指针,感觉会有问题,但还没测试  
占位符于 std::bind 表达式用作参数时,占位符对象被存储于生成的函数对象，而以未绑定参数调用函数对象时,每个占位符 _N 被对应的第 N 个未绑定参数替换。

2022-3-9  
今天简单完成了tcpserver,准备调试遇到不少之前没注意的问题  
大部分都是类名变量名没正确的原因,花了不少时间  
但仍有两大问题 占位符_1 _2这种目前作用没搞懂, bind unique_ptr如何操作  

2022-3-8  
今天先完成了最复杂的TcpConnection,涉及修改的类有几个,东西太多了,TcpServer先搁置,把TcpConnection和修改的类先整理一下  
shared_form_this需要继承std::enable_shared_from_this,用于将自身包装为一个shared_ptr以共享出去,在类内直接新建shared_ptr会导致计数出现问题,从而使用这个方法    
ctor == constructor  
dtor == destructor  

2022-3-7  
完成并测试了一下buffer类,目前没有太大的问题,还把tcpconectoin类完成了一部分  
readv使用的iovec之前并没有了解过,目前只知道是可以在一个函数中对多个不连续缓冲区读,了解不多(unix环境高级编程14.6)  
shared_form_this这个操作有点不大理解如何实现的   

2022-3-6  
今天把用于缓存buffer构造了一下,考虑作为通用的string来用又有点不必要,同时不同于muduo的buffer,用标准库的string作为内容,手动控制读写(感觉会很麻烦,只用于读会好一点)  
TCPserver的一些东西都要基于这个buffer,因此先完成buffer类  

2022-3-5  
tcpserver部分的tcpconnection是关键部分,其中有用的是自定的buffer,一开始想用string直接代替想想会很麻烦,东西太多,今天把不太清楚的找了一些看了看,这几天应该就能完成tcpserver了  
同时偶然发现了peeraddr的来源(on the internet were originally considered to be equal peers rather than divided into "client machines" and "server machines".)  

2022-3-4  
muduo库的tcpserver部分涉及的非常多,一时也没法写,决定先看完再写,以免出错  

2022-3-3  
对socket不是太熟悉,今天把tcp的连接处理acceptor完成了也测试了一下  
这个部分基本是对着写的,东西是在太多,即使看过来了也不知道该如何改动  
accept4与accept不同 accept4不是标准的Linux扩展并存在有第四个参数flag 通过设置能对文件描述符进行不同的控制  

2022-2-24  
昨日的问题通过把Latch重写而不是用标准库,和thread中的一些地方改动解决了,确实是多次锁导致了线程卡死,了解condtion后删去了不应该的额外锁  
Wakeup的read因为是int类型,read失败,导致了无法唤醒wait的线程  
今天开始了TCP的socket编写,muduo库中的函数比我之前的多多了,学习了不少新用法,但还没写完,属实多  
还把命名空间和一些文件改名移动了一下位置方便寻找  

2022-2-23  
忙其他的去了,加上vs的远程调试不支持C++20,现在能确定是锁的问题,目前输出的错误是tid和wakeup有问题  
明天再看吧,也看能不能自制latch好使用vs调试方便找问题    

2022-2-22 
把thread照着完成了,基本都是封装好了的函数,理解起来没有很大问题  
EventLoopThread完成了,但现在锁应该是有问题的,偶尔会卡死,明天优先解决这个问题   

2022-2-21  
昨天把整个TimerQueue和EventLoop几乎对照后并重写确实修复了一些问题,poll也改为了epoll来作为事件到期的通知  
boost库安装后对比自身的程序一步步查找,发现是在函数Time_stamp_add中返回了一个新的空类,同时在添加日志后发现了Time_from_now的一个设置问题导致了系统的定时器timerfd设置失败,这才导致了无法触发到期提醒   
准备先把日志完善一下,最关键的事件循环和定时器都已经完成,明天先写thread和日志,过两天就能开始tcp的编写了  
(重写时看了下muduo中关于自己封装的thread发现了更多系统调用和没见过的东西,感觉也是个必踩的坑  
C++20 有了latch标准库,考虑尝试一下)  

前向声明的类只能是指针或是引用,为其他类型,因为不知道前向声明类型的大小,或者它是否实际上具有无参数构造函数等,编译器不知道如何分配父对象(https://stackoverflow.com/questions/12466055/field-has-incomplete-type-error/12466219)   
inline函数的实现放在头文件,每一个包含该头文件的cpp文件都将得到一份关于该函数的定义,并且链接器不会报错  
inline函数的实现放在cpp文件中,该函数对其他编译单元不可见  
问题原因在于编译器在编译inline函数时,需要知道其完整定义,如果编译器在本编译单元找不到inline函数定义就会报错,inline函数的调用不涉及到函数的call,也就不需要链接器参与进来工作,所以也就不会去其他编译单元查找函数定义  

2022-2-20  
时间循环和定时器的配合有问题,今天又找了一天没啥结果,但把大多数函数重新对照并发现了不少问题,现在能成功循环了,但事件没法加入并且延时运行,明天再研究研究  
这两天还是遇到不少新问题,可惜忘记记录,看想起来了能不能补充写下来  

2022-2-19  
定时器的问题有点大,加上之前的事件循环,弄了一天也没弄完,好在发现了不少其他问题,也有不小的收获  

2022-2-18  
今天添加了不少东西命名空间Time里面新增的TimerQueue可被EventLoop用于定时  
跟着写收获不少,还没上测试,只通过了编译,明天再调试问题  

2022-2-17  
今天把整个Net核心的Recator分发和事件循环加channel(事件类包装)差不多照着写了一遍  
感觉可以改成epoll但是看库里有说支持epoll,先看着来吧,还没看太明白,弄清楚后看能不能改成单支持epoll的方便一些  
还有许多问题,明天上vs远程跑改一改  

2022-2-16  
vs studio有点复杂,而且远程开发还不如在虚拟机上方便   
修改了timer的结构,添加了一个timestamp用于统一类型  
正在写网络库的一些结构,学了好多新操作 

2022-2-15  
把log模块完善了一下,跟着书的介绍看懂了,但感觉挺难写
这里记一些小笔记也不错  
栈对象位于stack,定义栈对象时自动构造完成初始化,超出作用域后自动析构    
堆对象位于heap,需要new/delete(间接调用malloc()/free())显式构造和析构,如果没有及时析构容易引起内存泄露  

2022-2-14  
把虚拟机的配置转移到了服务器上,并配置了环境,现在用vs在本地就能进行调试 
但是现在服务器上的git好像有点问题  
修复了一个写日志的小问题,选择容器大小作为循环限制导致了写入不完全  
最近抓紧开发 摸鱼有点久   

2022-2-06  
过年这几天摸鱼了几天,看了看陈硕大佬的使用muduo库编多线程服务端   
书中也有对muduo库详细的解析的章节,接下来就照着写一写(应该不是太难)  

2022-1-29  
网络库准备写得先不那么复杂 看大量的人说做HTTP没必要过于深入 
确实也没必要 打算到时候弄个其他配套的客户端来使用  
预期按muduo库的大致结构来进行编写 还是挺有挑战的好多东西都没想过  

2022-1-28  
log模块已经大致完成了,接下来是socket模块,到时候整合就可以保证进程间的通信使用了(准备回头看一看unp再写)  

2022-1-27  
一次操作多个过滤条件同样需要多次判断,做个接口封装一下要更好,还能省去多次判断(选项太多复杂度就上来了,不如简单的判断多次操作)  
把formatter和sink模块大更新了一次,把结构和接口全部优化了方便core组合   

2022-1-26  
日志过滤只做了按优先级过滤(等于/低于该优先级的全部不记录)    
但是想了下按单条件检索和按单优先级过滤也比较重要,觉得优先级定义可能改动一下能方便判断(一下还挺难想,丢在这先,明天再弄)   

2022-1-25  
日志的临时储存弄好了,为了配合其他模块还挺麻烦的  
sink还有许多设想功能没有写,先完成主体为主要目的  

2022-1-24  
把计时器的时钟部分弄好了,还不清楚需不需要static声明来方便用  
计时器就当个时钟先用着吧,没仔细看过人家的计时器还有什么高级功能(估计有也整不会)  
日志系统的格式也弄得差不多了,剩下的记录部分感觉比较好写,sink部分还没想到什么好办法  

2022-1-23  
typename真实用,模板中的嵌套从属名称是需要typename声明的,如stl中的iterator  
但是在派生子类的基类列表中,以及构造函数的基类初始化列表中,不允许typename声明  
之前的那些stl容器肯定是需要重写的 用到哪个写哪个吧  
push这种接口本身不太安全,加锁和固定大小用着也许不大方便,有要改进的地方再改进,先完成主体  

2022-1-22  
c++17新添加的特性用inline static可以直接使用,而不需要重新声明一次(但是没找到为啥)
遇到的新问题还挺多,还得多写

2022-1-21  
线程池所需的结构比较麻烦,加上其中一些操作如果用自己的Safe版本会上两次锁并且不方便  
还没写完线程池,但感觉后面的服务器处理逻辑才是难写的部分

2022-1-20  
原来makefile出问题是因为模板类的原因,模板类只有在实例化后才会生成.o文件  
这些类得将定义和实现写在一个文件中
剩下的应该很快就能完成,这些基础的容器有机会再考虑用自己写的吧

2022-1-19  
list在使用和操作上感觉都不如queue,一些接口就先不实现了,但是之后要用再补上  
stl自带的许多操作只加锁暂时还是很简单,时间目前主要花在了测试用的makefile,和可用性测试上  

2022-1-18  
想了想自制的结构用不上STL的一些函数,会导致开发时间太长,不同的需求用不同的数据结构就好  
把vector和其他结构大致想了一下,加锁的并发比较简单,明天应该能完成  
见做完用着吧,重点还不在此处  
(太久没做,编译都不会了..)  

2022-1-17  
STL自带的vector在面对多线程push时会出现内存上的问题,还有一些其他的小问题比较麻烦(可能会经常core dump...)  
这两天正好借此机会重写一个自己的vector不借助标准库  

2022-1-16   
目前稍了解了C++并发并发的一些操作,加上整理了之前一些书籍中没有阅读的章节,打算重新构造整个流程   
使用一个主线程作为事件循环,所接收到的信息考虑直接分流给其他子线程处理,子线程处理解析完成后交由相关的接收/发送线程进行操作   
为了更好的扩容并发,也考虑将线程转为不同进程,但目前的大体框架和不同操作分类还在构思阶段,如果顺利两个不同的实现方式都会开发  
(确实隔久了看自己之前写的挺离谱)  

2021-11-25   
折腾了几天，终于把windows升级到了11，并把之前的一些工具进行了更新  
更新win11后想使用自带的linux好用但太麻烦了，linux也重装且升级到了ubuntu21.10，体验比之前流畅了很多   
之前的虚拟机卡顿使用起来太糟糕了，干啥都卡    
还在读并发书籍，发现C++的STL功能可太多了，这两天接触的新函数多到属实让人感叹  

2021-11-23  
之后的更新以及计划都会在此，避免readme过于繁杂   