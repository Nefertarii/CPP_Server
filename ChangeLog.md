## 随便写写
2022-2-22 
把thread照着完成了,基本都是封装好了的函数,理解起来没有很大问题  
EventLoopThread完成了,但现在锁应该是有问题的,偶尔会卡死,明天优先解决这个问题   

2022-2-21  
昨天把整个TimerQueue和EventLoop几乎对照后并重写确实修复了一些问题,poll也改为了epoll来作为事件到期的通知  
boost库安装后对比自身的程序一步步查找,发现是在函数Time_stamp_add中返回了一个新的空类,同时在添加日志后发现了Time_from_now的一个设置问题导致了系统的定时器timerfd设置失败,这才导致了无法触发到期提醒   
准备先把日志完善一下,最关键的事件循环和定时器都已经完成,明天先写thread和日志,过两天就能开始tcp的编写了  
(重写时看了下muduo中关于自己封装的thread发现了更多系统调用和没见过的东西,感觉也是个必踩的坑  
C++20 有了latch标准库,考虑尝试一下)  

前向声明的类只能是指针或是引用,为其他类型,因为不知道前向声明类型的大小,或者它是否实际上具有无参数构造函数等,编译器不知道如何分配父对象(https://stackoverflow.com/questions/12466055/field-has-incomplete-type-error/12466219)   
inline函数的实现放在头文件,每一个包含该头文件的cpp文件都将得到一份关于该函数的定义,并且链接器不会报错  
inline函数的实现放在cpp文件中,该函数对其他编译单元不可见  
问题原因在于编译器在编译inline函数时,需要知道其完整定义,如果编译器在本编译单元找不到inline函数定义就会报错,inline函数的调用不涉及到函数的call,也就不需要链接器参与进来工作,所以也就不会去其他编译单元查找函数定义  

2022-2-20  
时间循环和定时器的配合有问题,今天又找了一天没啥结果,但把大多数函数重新对照并发现了不少问题,现在能成功循环了,但事件没法加入并且延时运行,明天再研究研究  
这两天还是遇到不少新问题,可惜忘记记录,看想起来了能不能补充写下来  

2022-2-19  
定时器的问题有点大,加上之前的事件循环,弄了一天也没弄完,好在发现了不少其他问题,也有不小的收获  

2022-2-18  
今天添加了不少东西命名空间Time里面新增的TimerQueue可被EventLoop用于定时  
跟着写收获不少,还没上测试,只通过了编译,明天再调试问题  

2022-2-17  
今天把整个Net核心的Recator分发和事件循环加channel(事件类包装)差不多照着写了一遍  
感觉可以改成epoll但是看库里有说支持epoll,先看着来吧,还没看太明白,弄清楚后看能不能改成单支持epoll的方便一些  
还有许多问题,明天上vs远程跑改一改  

2022-2-16  
vs studio有点复杂,而且远程开发还不如在虚拟机上方便   
修改了timer的结构,添加了一个timestamp用于统一类型  
正在写网络库的一些结构,学了好多新操作 

2022-2-15  
把log模块完善了一下,跟着书的介绍看懂了,但感觉挺难写
这里记一些小笔记也不错  
栈对象位于stack,定义栈对象时自动构造完成初始化,超出作用域后自动析构    
堆对象位于heap,需要new/delete(间接调用malloc()/free())显式构造和析构,如果没有及时析构容易引起内存泄露  

2022-2-14
把虚拟机的配置转移到了服务器上,并配置了环境,现在用vs在本地就能进行调试 
但是现在服务器上的git好像有点问题  
修复了一个写日志的小问题,选择容器大小作为循环限制导致了写入不完全  
最近抓紧开发 摸鱼有点久   

2022-2-06  
过年这几天摸鱼了几天,看了看陈硕大佬的使用muduo库编多线程服务端   
书中也有对muduo库详细的解析的章节,接下来就照着写一写(应该不是太难)  

2022-1-29  
网络库准备写得先不那么复杂 看大量的人说做HTTP没必要过于深入 
确实也没必要 打算到时候弄个其他配套的客户端来使用  
预期按muduo库的大致结构来进行编写 还是挺有挑战的好多东西都没想过  

2022-1-28  
log模块已经大致完成了,接下来是socket模块,到时候整合就可以保证进程间的通信使用了(准备回头看一看unp再写)  

2022-1-27  
一次操作多个过滤条件同样需要多次判断,做个接口封装一下要更好,还能省去多次判断(选项太多复杂度就上来了,不如简单的判断多次操作)  
把formatter和sink模块大更新了一次,把结构和接口全部优化了方便core组合   

2022-1-26  
日志过滤只做了按优先级过滤(等于/低于该优先级的全部不记录)    
但是想了下按单条件检索和按单优先级过滤也比较重要,觉得优先级定义可能改动一下能方便判断(一下还挺难想,丢在这先,明天再弄)   

2022-1-25  
日志的临时储存弄好了,为了配合其他模块还挺麻烦的  
sink还有许多设想功能没有写,先完成主体为主要目的  

2022-1-24  
把计时器的时钟部分弄好了,还不清楚需不需要static声明来方便用  
计时器就当个时钟先用着吧,没仔细看过人家的计时器还有什么高级功能(估计有也整不会)  
日志系统的格式也弄得差不多了,剩下的记录部分感觉比较好写,sink部分还没想到什么好办法  

2022-1-23  
typename真实用,模板中的嵌套从属名称是需要typename声明的,如stl中的iterator  
但是在派生子类的基类列表中,以及构造函数的基类初始化列表中,不允许typename声明  
之前的那些stl容器肯定是需要重写的 用到哪个写哪个吧  
push这种接口本身不太安全,加锁和固定大小用着也许不大方便,有要改进的地方再改进,先完成主体  

2022-1-22
c++17新添加的特性用inline static可以直接使用,而不需要重新声明一次(但是没找到为啥)
遇到的新问题还挺多,还得多写

2022-1-21  
线程池所需的结构比较麻烦,加上其中一些操作如果用自己的Safe版本会上两次锁并且不方便  
还没写完线程池,但感觉后面的服务器处理逻辑才是难写的部分

2022-1-20  
原来makefile出问题是因为模板类的原因,模板类只有在实例化后才会生成.o文件  
这些类得将定义和实现写在一个文件中
剩下的应该很快就能完成,这些基础的容器有机会再考虑用自己写的吧

2022-1-19  
list在使用和操作上感觉都不如queue,一些接口就先不实现了,但是之后要用再补上  
stl自带的许多操作只加锁暂时还是很简单,时间目前主要花在了测试用的makefile,和可用性测试上  

2022-1-18  
想了想自制的结构用不上STL的一些函数,会导致开发时间太长,不同的需求用不同的数据结构就好  
把vector和其他结构大致想了一下,加锁的并发比较简单,明天应该能完成  
见做完用着吧,重点还不在此处  
(太久没做,编译都不会了..)  

2022-1-17  
STL自带的vector在面对多线程push时会出现内存上的问题,还有一些其他的小问题比较麻烦(可能会经常core dump...)  
这两天正好借此机会重写一个自己的vector不借助标准库  

2022-1-16   
目前稍了解了C++并发并发的一些操作,加上整理了之前一些书籍中没有阅读的章节,打算重新构造整个流程   
使用一个主线程作为事件循环,所接收到的信息考虑直接分流给其他子线程处理,子线程处理解析完成后交由相关的接收/发送线程进行操作   
为了更好的扩容并发,也考虑将线程转为不同进程,但目前的大体框架和不同操作分类还在构思阶段,如果顺利两个不同的实现方式都会开发  
(确实隔久了看自己之前写的挺离谱)  

2021-11-25   
折腾了几天，终于把windows升级到了11，并把之前的一些工具进行了更新
更新win11后想使用自带的linux好用但太麻烦了，linux也重装且升级到了ubuntu21.10，体验比之前流畅了很多  
之前的虚拟机卡顿使用起来太糟糕了，干啥都卡    
还在读并发书籍，发现C++的STL功能可太多了，这两天接触的新函数多到属实让人感叹 

2021-11-23  
之后的更新以及计划都会在此，避免readme过于繁杂  


## 旧日志
### 小更新
前端页面制作完成后考虑另建储存库(2021-10-17)    
整体的开发大致如此了，整体框架已经确定，剩余的功能、页面和需要添加的操作将在以后再进行补充(2021-10-10)  
数据库的开发所需实现的细节和要求比计划时的高出太多，暂缓开发(2021-10-04)    
仍在完善中 打算更改前端页面的显示内容，考虑做成主要功能为各类信息收集整理，带有登录注册功能的网站(2021-9-24)    



### 大更新
#### Version1.2.1(2021-10-18)
改进了HTML代码结构 缩小了代码量
增加了其他页面用于测试服务器
#### Version1.2(2021-10-06) 
大幅修改了原程序的代码结构，同时完善了对POST请求的处理  
对访问的错误处理和类结构进行了优化  
(该栏-更新日志 以后将记录每次所添加/删除的功能及结构变化)

## 更新计划/更新内容
2022-1-16  
整体的更新迭代：
整体程序的重新构造(详见readme),整体改为多线程/进程
主线程:事件循环(请求的接收,分流)   
处理/解析线程:(解析请求,根据解析的需求分发给发送线程(也许可以添加一个上传功能?)    
发送线程:(该线程只将指定内容发送给指定的地方,而不做二次处理)    
日志线程:(专用一个线程在空闲时用于日志的更新,也可保证日后能修改为远程保存)    
2021-11-23  
计划更新服务器并发操作：    
专属线程池的开发，也许服务器整体需要大更改，顺便将管理程序一并完成  
2021-11-23   
计划更新前端页面：  
前端页面的三件套HTML5/CSS3/JS，了解的差不多了，计划利用vue或者是react进行前端页面的重新制作，并另起一个储存库作为分类  
